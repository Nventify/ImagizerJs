var DEFAULT_QUALITY=90;var DEFAULT_DPR=1;var DEFAULT_IMAGIZER_HOST="demo.imagizercdn.com";var imagizerClient=function(){var t={imagizerHost:DEFAULT_IMAGIZER_HOST,autoDpr:false,format:null,quality:DEFAULT_QUALITY,dpr:DEFAULT_DPR,useHttps:false,originImageHost:null};function i(t){var i=document.querySelectorAll(t);for(var a=0;a<i.length;a++){if(i[a]){var o=i[a];var f=o.getAttribute("data-src");if(f){var s=e(f);if(o.getAttribute("data-res")){r(o,f,s)}else{n(o,f,s)}}}}return this}function e(t){var i=t.split("?");t=i[1];return!t&&{}||t.replace(/(^\?)/,"").split("&").map(function(t){return t=t.split("="),this[t[0]]=t[1],this}.bind({}))[0]}function r(t,i,e){delete e.width;delete e.height;e.dpr=1;var r=[];for(var n=100;n<3e3;n+=100){e.width=n;r.push(f(i,e)+" "+e.width+"w")}t.setAttribute("srcset",r);if(!t.getAttribute("srcset")){t.setAttribute("srcset","100vw")}}function n(t,i,e){if(!t){return false}var r=f(i);var n=new Image;n.onload=function(){t.src=this.src;if(e.width){t.width=e.width}else if(e.height){t.height=e.height}if(e.height&&e.crop=="fit"){t.height=e.height}};n.src=r}function a(t){var i=[];for(var e in t){i.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e]))}return i.join("&")}function o(){var t=1;if(window!=undefined){t=window.devicePixelRatio?window.devicePixelRatio:1}return t}function f(i,e){if(e==undefined){e={}}if(!i.match(/^\//)){i+="/"+i}var r=t.useHttps?"https":"http";var n=r+"://"+t.imagizerHost+i;if(t.originImageHost){e.hostname=t.originImageHost}if(!e.dpr){if(t.dpr!=DEFAULT_DPR||!t.autoDpr){e.dpr=t.dpr}else{e.dpr=o()}}if(t.quality!=DEFAULT_QUALITY){e.quality=t.quality}if(t.format){e.format=t.format}if(!i.match(/\?/)){n+="?"}else{n+="&"}n+=a(e);return n}function s(t,i){var e=i.offsetWidth;var r=i.offsetHeight;return f(t,{width:e,height:r,crop:"fit"})}return{loadImages:i,config:t,buildUrl:f}}();
