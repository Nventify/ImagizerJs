var DEFAULT_QUALITY=90;var DEFAULT_DPR=1;var DEFAULT_IMAGIZER_HOST="demo.imagizercdn.com";var DEFAULT_RESPONSIVE_SIZE="100vw";var ATTRIBUTE_NAMES={datasrc:"data-src",datares:"data-res",src:"src",srcset:"srcset",sizes:"sizes"};var imagizerClient=function(){var t={imagizerHost:DEFAULT_IMAGIZER_HOST,autoDpr:false,format:null,quality:DEFAULT_QUALITY,dpr:DEFAULT_DPR,useHttps:false,originImageHost:null,attributeNames:ATTRIBUTE_NAMES};function e(e){var i=document.querySelectorAll(e);for(var n=0;n<i.length;n++){if(i[n]){var o=i[n];var f=o.getAttribute(ATTRIBUTE_NAMES.datasrc);if(f){var h=r(f);if(!t.originImageHost&&h.hostname&&h.hostname!=DEFAULT_IMAGIZER_HOST){h.params.hostname=h.hostname}else if(t.originImageHost){h.params.hostname=t.originImageHost}if(o.getAttribute(ATTRIBUTE_NAMES.datares)){a(o,h.path,h.params)}else{s(o,h.path,h.params)}}}}return this}function r(t){var e=document.createElement("a");e.href=t;return{scheme:e.protocol,hostname:e.host,path:e.pathname,params:i(e.search)}}function i(t){var e=t.split("?");t=e[1];return!t&&{}||t.replace(/(^\?)/,"").split("&").map(function(t){return t=t.split("="),this[t[0]]=t[1],this}.bind({}))[0]}function a(t,e,r){delete r.width;var i=[];for(var a=100;a<3e3;a+=100){r.width=a;r.dpr=1;i.push(f(e,r)+" "+r.width+"w")}t.setAttribute(ATTRIBUTE_NAMES.srcset,i);if(!t.getAttribute(ATTRIBUTE_NAMES.sizes)){t.setAttribute(ATTRIBUTE_NAMES.sizes,DEFAULT_RESPONSIVE_SIZE)}t.setAttribute(ATTRIBUTE_NAMES.src,f(e))}function s(t,e,r){if(!t){return false}var i=f(e,r);var a=new Image;a.onload=function(){t.src=this.src;if(r.width){t.width=r.width}else if(r.height){t.height=r.height}if(r.height&&r.crop=="fit"){t.height=r.height}};a.src=i}function n(t){var e=[];for(var r in t){e.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]))}return e.join("&")}function o(){var t=1;if(window!=undefined){t=window.devicePixelRatio?window.devicePixelRatio:1}return t}function f(e,r){if(r==undefined){r={}}if(!e.match(/^\//)){e+="/"+e}var i=t.useHttps?"https":"http";var a=i+"://"+t.imagizerHost+e;if(!r.dpr){if(t.autoDpr){r.dpr=o()}else{r.dpr=t.dpr}}if(r.dpr==DEFAULT_DPR){delete r.dpr}if(t.quality!=DEFAULT_QUALITY){r.quality=t.quality}if(t.format){r.format=t.format}if(!e.match(/\?/)){a+="?"}else{a+="&"}a+=n(r);return a}function h(t,e){var r=e.offsetWidth;var i=e.offsetHeight;return f(t,{width:r,height:i,crop:"fit"})}return{loadImages:e,config:t,buildUrl:f}}();
