var DEFAULT_QUALITY=90;var DEFAULT_DPR=1;var DEFAULT_IMAGIZER_HOST="demo.imagizercdn.com";var imagizerClient=function(){var t={imagizerHost:DEFAULT_IMAGIZER_HOST,autoDpr:false,format:null,quality:DEFAULT_QUALITY,dpr:DEFAULT_DPR,useHttps:false,originImageHost:null};function e(t){var e=document.querySelectorAll(t);for(var r=0;r<e.length;r++){if(e[r]){var o=e[r];var s=o.getAttribute("data-src");if(s){var f=i(s);if(o.getAttribute("data-res")){a(o,f.path,f.params)}else{n(o,f.path,f.params)}}}}return this}function i(t){var e=document.createElement("a");e.href=t;return{scheme:e.protocol,hostname:e.host,path:e.pathname,params:r(e.search)}}function r(t){var e=t.split("?");t=e[1];return!t&&{}||t.replace(/(^\?)/,"").split("&").map(function(t){return t=t.split("="),this[t[0]]=t[1],this}.bind({}))[0]}function a(t,e,i){delete i.width;var r=[];for(var a=100;a<3e3;a+=100){i.width=a;i.dpr=1;r.push(f(e,i)+" "+i.width+"w")}t.setAttribute("srcset",r);if(!t.getAttribute("srcset")){t.setAttribute("srcset","100vw")}t.setAttribute("src",f(e))}function n(t,e,i){if(!t){return false}var r=f(e,i);var a=new Image;a.onload=function(){t.src=this.src;if(i.width){t.width=i.width}else if(i.height){t.height=i.height}if(i.height&&i.crop=="fit"){t.height=i.height}};a.src=r}function o(t){var e=[];for(var i in t){e.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]))}return e.join("&")}function s(){var t=1;if(window!=undefined){t=window.devicePixelRatio?window.devicePixelRatio:1}return t}function f(e,i){if(i==undefined){i={}}if(!e.match(/^\//)){e+="/"+e}var r=t.useHttps?"https":"http";var a=r+"://"+t.imagizerHost+e;if(t.originImageHost){i.hostname=t.originImageHost}if(!i.dpr){if(t.autoDpr){i.dpr=s()}else{i.dpr=t.dpr}}if(i.dpr==DEFAULT_DPR){delete i.dpr}if(t.quality!=DEFAULT_QUALITY){i.quality=t.quality}if(t.format){i.format=t.format}if(!e.match(/\?/)){a+="?"}else{a+="&"}a+=o(i);return a}function u(t,e){var i=e.offsetWidth;var r=e.offsetHeight;return f(t,{width:i,height:r,crop:"fit"})}return{loadImages:e,config:t,buildUrl:f}}();
